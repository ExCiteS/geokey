{% extends "base.html" %}

{% block bodydata %} data-project-id="{{project.id}}"{% endblock %}
{% block title %} | Project | Settings{% endblock %}

{% block main %}
            <div class="page-header">
                <!-- <h1>Project</h1> -->
                <h1>{{project.name}}{% if project.description %}<small><span id="descriptionText">{{project.description}}</span> <a href="#" id="edit"><span class="glyphicon glyphicon-edit"></span> Edit</a></small>{% endif %}</h1>
                <form class="form-inline" id="description-form" role="form">
                    {% csrf_token %}
                    <div class="form-group">
                        <label class="sr-only" for="desription">Project description</label>
                        <input type="text" class="form-control" id="description" name="description" placeholder="Enter a project desription" {% if project.description %}value="{{project.description}}"{% endif %}>
                    </div>
                    <button type="submit" class="btn btn-primary" data-loading-text="Updating...">Save</button>
                    <button type="button" class="btn btn-default">Cancel</button>
                </form>
            </div>

            <div class="row" id="users">
                <div class="col-md-2">
                    <h3>Permissions</h3>
                </div>
                <div class="col-md-5">
                    <div class="panel panel-default" id="administrators"> <!-- Administrators list -->
                        <div class="panel-heading">
                            <h2 class="panel-title">Administrators</h2>
                            <p>Members of this group can edit and delete the project, create and alter views as well as access, edit and remove all data contributed to the project.<p>
                        </div>
                        <ul class="list-group">
                            <li class="list-group-item">Peter Schmeichel (<a class="text-danger" href="#">remove</a>)</li>
                            <li class="list-group-item">Carlos Valderama (<a class="text-danger" href="#">remove</a>)</li>
                            <li class="list-group-item">George Best (<a class="text-danger" href="#">remove</a>)</li>
                        </ul>
                        <div class="panel-footer">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Type to find users to this group">
                                <span class="input-group-btn">
                                    <button class="btn btn-success" type="button">Add</button>
                                </span>
                            </div>
                        </div>
                    </div> <!-- /Administrators List -->
                </div>
                <div class="col-md-5">
                    <div class="panel panel-default" id="contributors"> <!-- Contributors list -->
                        <div class="panel-heading">
                            <h2 class="panel-title">Contributors</h2>
                            <p>Members of this group can contribute new features and observations to the project.<p>
                        </div>
                        <div class="panel-body">
                            <div class="checkbox">
                                <label><input type="checkbox" checked="true"> Everyone can contribute</label>
                            </div>
                        </div>
                        <ul class="list-group">
                            
                        </ul>
                        <div class="panel-footer">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Type to find users to this group">
                                <span class="input-group-btn">
                                    <button class="btn btn-success" type="button">Add</button>
                                </span>
                            </div>
                        </div>
                    </div> <!-- /Contributors List -->
                </div>
            </div>
            <hr>
            <div class="row" id="featuretypes">
                <div class="col-md-2">
                    <h3>Feature types</h3>
                </div>
                <div class="col-md-5">
                    <div class="panel panel-default"> <!-- Feature type list List -->
                        <div class="panel-heading">
                            <h2 class="panel-title">Feature types in this project</h2>
                        </div>
                        <div class="list-group">
                            <a href="featuretype.html" class="list-group-item">
                                <h4 class="list-group-item-heading">Bar</h4>
                                <p class="list-group-item-text">A place to get pissed.</p>
                            </a>
                            <a href="featuretype.html" class="list-group-item">
                                <h4 class="list-group-item-heading">Coffee shops</h4>
                                <p class="list-group-item-text">A place to have a coffee.</p>
                            </a>
                        </div>
                        <div class="panel-footer">
                            <a href="featuretype.new.html" class="btn btn-success"><span class="glyphicon glyphicon-plus"></span> Create new feature type</a>
                        </div>
                    </div> <!-- /Feature type list List -->
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-md-5 col-md-offset-2 col-lg-3">
                    <div class="panel panel-warning">
                        <div class="panel-heading">
                            <h2 class="panel-title">Make this project private</h2>
                        </div>
                        <div class="panel-body">
                            <!-- <p>If you choose to make the project private, the project will be accessable only to administrators, contributors and members of view-related user groups.</p> -->
                            <p>Hide this project from the public.</p>
                            <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#private_confirm">Make private</button>
                        </div>
                    </div>
                </div>

                <div class="col-md-5 col-lg-3 col-lg-offset-0">
                    <div class="panel panel-warning">
                        <div class="panel-heading">
                            <h2 class="panel-title">Make this project inactive</h2>
                        </div>
                        <div class="panel-body">
                            <p>The project live cycle has come to an end. Users will not be able to contribute and read data from the project.</p>
                            <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#inactive_confirm">Make inactive</button>
                        </div>
                    </div>
                </div>

                <div class="col-md-5 col-md-offset-2 col-lg-3 col-lg-offset-0">
                    <div class="panel panel-danger">
                        <div class="panel-heading">
                            <h2 class="panel-title">Delete project</h2>
                        </div>
                        <div class="panel-body">
                            <p>If you delete the project there's no way back.</p>
                            <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#delete_confirm">Delete this project</button>
                        </div>
                    </div>
                </div>
            </div>
{% endblock %}

{% block modals %} 
        <!-- Delete confirmation modal -->
        <div class="modal fade" id="delete_confirm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content panel-danger">
                    <div class="modal-header panel-heading">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="myModalLabel">Are you sure?</h4>
                    </div>
                    <div class="modal-body panel-body">
                        <p class="text-danger">You are about to delete the project <strong>Piggy and Kermit</strong>. This can not be undone.</p>
                        <p>Deleting a project will delete all data contributed to the project.</p>
                    </div>
                    <div class="modal-footer panel-footer">
                        <button type="button" class="btn btn-danger">I'm absolutely sure, delete the project!</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Delete confirmation modal -->

        <!-- Private confirmation modal -->
        <div class="modal fade" id="private_confirm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content panel-warning">
                    <div class="modal-header panel-heading">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="myModalLabel">Are you sure?</h4>
                    </div>
                    <div class="modal-body panel-body">
                        <p>Before you make the project private, please read through the consequences of this action.</p>
                        <p>A private project is only accessible by the following users:</p>
                        <ul>
                            <li>Project administrators</li>
                            <li>Project contributers</li>
                            <li>Members of any user group that is assigned to one of the project views.</li>
                        </ul>
                    </div>
                    <div class="modal-footer panel-footer">
                        <button type="button" class="btn btn-warning">Yes, make the project private.</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Private confirmation modal -->

        <!-- Inactive confirmation modal -->
        <div class="modal fade" id="inactive_confirm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content panel-warning">
                    <div class="modal-header panel-heading">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="myModalLabel">Are you sure?</h4>
                    </div>
                    <div class="modal-body panel-body">
                        <p>Before you make the project inactive, please read through the consequences of this action:</p>
                        <ul>
                            <li>The project will be accessible to project administrators only.</li>
                            <li>All data, user groups and views will be kept in the data base.</li>
                            <li>It is not possible to contribute new data to the project.</li>
                        </ul>
                    </div>
                    <div class="modal-footer panel-footer">
                        <button type="button" class="btn btn-warning">Yes, make the project inactive.</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Inactive confirmation modal -->


{% endblock %}

{% block libraries %} 
            <script src="/static/js/Admin.Ui.DescriptionEditor.js"></script>
            <script src="/static/js/Admin.Ui.Project.UserGroups.js"></script>
            <script src="/static/js/Admin.Ui.UserGroup.js"></script>
{% endblock %}
